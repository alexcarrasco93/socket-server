"use strict";(self.webpackChunksockets_app=self.webpackChunksockets_app||[]).push([[990],{3990:(U,m,o)=>{o.r(m),o.d(m,{MessagesComponent:()=>p});var a=o(6895),e=o(8274),g=o(9014);function u(n,s){if(1&n&&(e.TgZ(0,"li",2),e._uU(1),e.TgZ(2,"span",3),e._uU(3),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"span",4),e._uU(6),e.qZA()()),2&n){const t=s.$implicit;e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.Oqu(t.room),e.xp6(3),e.Oqu(t.id)}}class c{constructor(s){this.chatService=s,this.activeUsers$=this.chatService.getActiveUsers()}ngOnInit(){this.chatService.emitActiveUsers()}}c.\u0275fac=function(s){return new(s||c)(e.Y36(g.a))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-users-list"]],standalone:!0,features:[e.jDz],decls:6,vars:3,consts:[[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"badge","bg-primary"],[1,"badge","bg-info"]],template:function(s,t){1&s&&(e.TgZ(0,"h1"),e._uU(1,"Users"),e.qZA(),e._UZ(2,"hr"),e.TgZ(3,"ul",0),e.YNc(4,u,7,3,"li",1),e.ALo(5,"async"),e.qZA()),2&s&&(e.xp6(4),e.Q6J("ngForOf",e.lcZ(5,1,t.activeUsers$)))},dependencies:[a.ez,a.sg,a.Ov]});var i=o(433),h=o(8505);const f=["chatMessages"];function v(n,s){if(1&n&&(e.TgZ(0,"li",5),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.AsE(" ",t.from,": ",t.msg," ")}}class r{constructor(s){this.chatService=s,this.text="",this.messages$=this.chatService.messages$.pipe((0,h.b)(()=>this.scrollDown()))}send(){this.text&&(this.chatService.sendMessage(this.text),this.text="")}scrollDown(){setTimeout(()=>{this.chatMessagesEl.nativeElement.scrollTop=this.chatMessagesEl.nativeElement.scrollHeight},50)}}r.\u0275fac=function(s){return new(s||r)(e.Y36(g.a))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-chat"]],viewQuery:function(s,t){if(1&s&&e.Gf(f,5),2&s){let l;e.iGM(l=e.CRH())&&(t.chatMessagesEl=l.first)}},standalone:!0,features:[e.jDz],decls:9,vars:4,consts:[["id","chat-messages"],["chatMessages",""],["class","list-group-item",4,"ngFor","ngForOf"],[3,"ngSubmit"],["type","text","name","text","placeholder","Message...","autofocus","","autocomplete","false",1,"form-control","chat-input",3,"ngModel","ngModelChange"],[1,"list-group-item"]],template:function(s,t){1&s&&(e.TgZ(0,"h1"),e._uU(1,"Messages"),e.qZA(),e._UZ(2,"hr"),e.TgZ(3,"div",0,1),e.YNc(5,v,2,2,"li",2),e.ALo(6,"async"),e.qZA(),e.TgZ(7,"form",3),e.NdJ("ngSubmit",function(){return t.send()}),e.TgZ(8,"input",4),e.NdJ("ngModelChange",function(C){return t.text=C}),e.qZA()()),2&s&&(e.xp6(5),e.Q6J("ngForOf",e.lcZ(6,2,t.messages$)),e.xp6(3),e.Q6J("ngModel",t.text))},dependencies:[a.ez,a.sg,a.Ov,i.u5,i._Y,i.Fj,i.JJ,i.JL,i.On,i.F]});var d=o(3252),Z=o(8223);class p{constructor(s){this.wsService=s,this.name=this.wsService.getUser()?.name}logout(){this.wsService.logout()}}p.\u0275fac=function(s){return new(s||p)(e.Y36(Z.i))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-messages"]],standalone:!0,features:[e.jDz],decls:6,vars:0,consts:[[1,"row"],[1,"col-6"]],template:function(s,t){1&s&&(e._UZ(0,"app-navbar"),e.TgZ(1,"div",0)(2,"div",1),e._UZ(3,"app-users-list"),e.qZA(),e.TgZ(4,"div",1),e._UZ(5,"app-chat"),e.qZA()())},dependencies:[a.ez,d.S,c,r]})}}]);